import{g as v,q as V,E as _}from"./theme.DfYlLWyj.js";import{m as F,a as B,Z as $,f as c,p as h,M as S,a9 as L,O as i,H as d,t as f,U as g,u as o,S as p,T as u,q as O,F as N,K as q,D as I}from"./framework.BBh7kx9O.js";const U={class:"overflow-auto",style:{"max-height":"calc(100vh - 240px)"}},P=F({__name:"DialogLayout",props:{title:{},confirmMethod:{type:Function},cancelMethod:{type:Function},confirmText:{},cancelText:{},appendToBody:{type:Boolean},appendTo:{},beforeClose:{type:[null,Function]},destroyOnClose:{type:Boolean},closeOnClickModal:{type:Boolean},closeOnPressEscape:{type:Boolean},lockScroll:{type:Boolean},modal:{type:Boolean},openDelay:{},closeDelay:{},top:{},modelValue:{type:Boolean},modalClass:{},width:{},zIndex:{},trapFocus:{type:Boolean},headerAriaLevel:{},center:{type:Boolean},alignCenter:{type:Boolean},closeIcon:{},draggable:{type:Boolean},overflow:{type:Boolean},fullscreen:{type:Boolean},showClose:{type:Boolean},ariaLevel:{},showErrorMessage:{type:Boolean},cancelDisabled:{type:Boolean},confirmDisabled:{type:Boolean}},setup(b,{expose:k}){const t=b,s=B(!1),n=B(!1),l=$({}),w=c(()=>l.title??t.title??"标题"),y=c(()=>l.content),C=c(()=>l.confirmText??t.confirmText??"确定"),T=c(()=>l.cancelText??t.cancelText??"取消"),m=c(()=>l.confirmMethod??t.confirmMethod),r=c(()=>l.cancelMethod??t.cancelMethod),D=async()=>{var e;await((e=r.value)==null?void 0:e.call(r))!==!1&&(s.value=!1)},x=async()=>{if(!n.value){if(!m.value)return s.value=!1;n.value=!0;try{if(await m.value()===!1)return;s.value=!1}catch(e){if(!t.showErrorMessage)return;_.error(e.message??e)}finally{n.value=!1}}},M=async e=>{var a;n.value||await((a=r.value)==null?void 0:a.call(r))!==!1&&e()};return k({open:e=>{if(e)for(const a in e)l[a]=e[a];else for(const a in l)l[a]=void 0;s.value=!0},close:()=>{s.value=!1}}),(e,a)=>(h(),S(o(V),q(t,{modelValue:o(s),"onUpdate:modelValue":a[0]||(a[0]=E=>I(s)?s.value=E:null),title:o(w),width:t.width||"570","align-center":"","close-on-click-modal":!1,"close-on-press-escape":!1,"append-to-body":"","before-close":M,modal:!0}),L({footer:i(()=>[d(e.$slots,"footer",{},()=>[f("div",{class:"inline-block",onClick:D},[d(e.$slots,"cancelButton",{},()=>[g(o(v),{disabled:o(n)||e.cancelDisabled},{default:i(()=>[p(u(o(T)),1)]),_:1},8,["disabled"])])]),f("div",{class:"inline-block ml-[12px]",onClick:x},[d(e.$slots,"confirmButton",{},()=>[g(o(v),{type:"primary",loading:o(n),disabled:e.confirmDisabled},{default:i(()=>[p(u(o(C)),1)]),_:1},8,["loading","disabled"])])])])]),default:i(()=>[f("div",U,[o(y)?(h(),O(N,{key:0},[p(u(o(y)),1)],64)):d(e.$slots,"default",{key:1})])]),_:2},[e.$slots.header?{name:"header",fn:i(()=>[d(e.$slots,"header")]),key:"0"}:void 0]),1040,["modelValue","title","width"]))}});export{P as _};
